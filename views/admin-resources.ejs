<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CareerFasten</title>
  <!--========== BOX ICONS ==========-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <!--========== CSS ==========-->
  <link rel="stylesheet" href="/css/adminHome.css" />
  <link rel="stylesheet" href="/css/testimonials.css">
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
  <!--====================Slide bar==============-->
  <body>
    <!--========== HEADER ==========-->
    <header class="header">
      <div class="header__container">
        <div class="header__search">
          <input type="text" value="<%=user.adminID.toUpperCase()%>" class="header__input user " readonly />
        </div>
        <a href="/admin" class="header__logo">CareerFasten</a>
        <div class="header__search">
          <input type="button" value="Notify All" class="header__input" data-bs-toggle="modal"
          data-bs-target="#notifyModal" />
        </div>
        <div class="header__toggle">
          <i class="bx bx-menu" id="header-toggle"></i>
        </div>
      </div>
    </header>

    <!--========== NAV ==========-->
    <div class="nav" id="navbar">
      <nav class="nav__container">
        <div>
          <a href="/admin" class="nav__link nav__logo">
            <i class="bx bxs-disc nav__icon"></i>
            <span class="nav__logo-name">CareerFasten</span>
          </a>
          <div class="nav__list">
            <div class="nav__items">
              <a href="/admin" class="nav__link ">
                <i class="bx bx-home nav__icon"></i>
                <span class="nav__name">Home</span>
              </a>
              <a href="/admin-upcoming" class="nav__link">
                <i class='bx bx-repost nav__icon'></i>
                <span class="nav__name">Upcoming Updates</span>
              </a>
              <a href="/admin-resources" class="nav__link">
                <i class='bx bx-note nav__icon'></i>
                <span class="nav__name">Resources</span>
              </a>
              <a href="/admin-feedback" class="nav__link">
                <i class='bx bxs-book-content nav__icon'></i>
                <span class="nav__name">Feedback</span>
              </a>
              <!-- <a href="/admin-discuss" class="nav__link">
                <i class="bx bx-message-rounded nav__icon"></i>
                <span class="nav__name">Discuss</span>
              </a> -->
              <a href="/logout" class="nav__link nav__logout">
                <i class="bx bx-log-out nav__icon"></i>
                <span class="nav__name">Log Out</span>
              </a>
          </nav>
        </div>

        <!-- Modal for Email Notification -->
  <div class="modal fade" id="notifyModal" tabindex="-1" aria-labelledby="notifyModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="notifyModalLabel">Send Email Notification</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="notifyForm">
            <div class="mb-3">
              <label for="subject" class="form-label">Subject</label>
              <input type="text" class="form-control" id="subject" name="subject" required>
            </div>
            <div class="mb-3">
              <label for="message" class="form-label">Message</label>
              <textarea class="form-control" id="message" name="message" rows="5" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Send</button>
          </form>
        </div>
      </div>
    </div>
  </div>

        <!--===================RESOURCES===================================-->
        <div class="container mx-auto mt-20 ml-5">
          <button id="addBtn" class="bg-blue-500 text-white px-4 py-2 rounded mb-6 mt-0 ml-20 text-xl">ADD RESOURCES</button>

          <!-- Form Popup -->
          <div id="formPopup" class="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded shadow-md w-1/2">
              <div class="flex justify-end">
                <button id="closeBtn" class="text-gray-500 hover:text-gray-700">
                  <i class='bx bx-x text-xl'></i>
                </button>
              </div>
              <form action="/create-resource" method="POST">
                <div class="mb-4">
                  <label for="category" class="block text-gray-700">Category</label>
                  <input type="text" id="category" name="category" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div class="mb-4">
                  <label for="title" class="block text-gray-700">Title</label>
                  <input type="text" id="title" name="title" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div class="mb-4">
                  <label for="description" class="block text-gray-700">Description</label>
                  <textarea id="description" name="description" rows="4" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required></textarea>
                </div>
                <div class="mb-4">
                  <label for="date" class="block text-gray-700">Date</label>
                  <input type="date" id="date" name="date" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div class="flex justify-end">
                  <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Submit</button>
                </div>
              </form>
            </div>
          </div>

          <!-- Edit Form Popup -->
          <div id="editFormPopup" class="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded shadow-md w-1/2">
              <div class="flex justify-end">
                <button id="closeEditBtn" class="text-gray-500 hover:text-gray-700">
                  <i class='bx bx-x text-xl'></i>
                </button>
              </div>
              <form id="editForm" action="/edit-resource" method="POST">
                <input type="hidden" id="editId" name="id">
                <div class="mb-4">
                  <label for="editCategory" class="block text-gray-700">Category</label>
                  <input type="text" id="editCategory" name="category" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div class="mb-4">
                  <label for="editTitle" class="block text-gray-700">Title</label>
                  <input type="text" id="editTitle" name="title" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div class="mb-4">
                  <label for="editDescription" class="block text-gray-700">Description</label>
                  <textarea id="editDescription" name="description" rows="4" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required></textarea>
                </div>
                <div class="mb-4">
                  <label for="editDate" class="block text-gray-700">Date</label>
                  <input type="date" id="editDate" name="date" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
                </div>
                <div class="flex justify-end">
                  <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Update</button>
                </div>
              </form>
            </div>
          </div>

          <!-- Cards -->
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-10 ml-20">
            <% resources.forEach(resource => { %>
            <div class="bg-white p-6 rounded shadow-md">
              <strong class="d-inline-block mb-2 text-primary"><%= resource.category %></strong>
              <h3 class="mb-0"><%= resource.title %></h3>
              <div class="mb-1 text-muted">Updated <%= new Date(resource.date).toLocaleDateString() %></div>
              <p class="card-text mb-auto"><%= resource.description %></p>
              <div class="flex justify-between mt-4">
                <button class="editBtn bg-blue-500 text-white px-4 py-2 rounded" data-id="<%= resource._id %>" data-category="<%= resource.category %>" data-title="<%= resource.title %>" data-description="<%= resource.description %>" data-date="<%= resource.date.toISOString().split('T')[0] %>">Edit</button>
                <form action="/delete-resource/<%= resource._id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this item?');">
                  <button type="submit" class="bg-orange-400 text-white px-4 py-2 rounded">Delete</button>
                </form>
              </div>
            </div>
            <% }); %>
          </div>
        </div>
        <script src="/javascript/admin-resources.js"></script>
    <!--========== CONTENTS ==========-->
    <footer class="footer mt-10 py-3 bg-light">
      <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
        © 2024 Copyright:
        <a class="text-body" href="https:">careerfasten.com</a>
      </div>
    </footer>
  </main>

  <!--========== MAIN JS ==========-->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <script src="/javascript/home.js"></script>
  <script src="/javascript/testimonial.js"></script>
  <script src ="/javascript/admin-home.js"></script>
  <script src="/javascript/main.js"></script>

</body>

</html>
</body>
